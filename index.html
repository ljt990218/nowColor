<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico">
    <title>COLOR</title>
</head>

<body>
    <div class="main">
        <h1 class="h1" id="h1" data-clipboard-target="#h1"></h1>
    </div>
</body>

<style>
    html,
    body,
    h1 {
        margin: 0;
        padding: 0;
    }

    .main {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        transition: all .3s;
    }

    h1 {
        transition: all .3s;
        text-align: center;
        color: #fff;
    }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>

<script>
    let main = document.querySelector('.main')
    let h1 = document.querySelector('h1')
    let h = 0
    let m = 0
    let s = 0

    window.addEventListener('load', function () {
        document.getElementsByTagName('body')[0].style.height = window.innerHeight + 'px';
        main.style.width = window.innerWidth + 'px'
        main.style.height = window.innerHeight + 'px'
        h1.style.lineHeight = window.innerHeight + 'px'

        window.addEventListener('resize', function () {
            document.getElementsByTagName('body')[0].style.height = window.innerHeight + 'px';
            main.style.width = window.innerWidth + 'px'
            main.style.height = window.innerHeight + 'px'
            h1.style.lineHeight = window.innerHeight + 'px'
        })

    })

    setColor()

    setInterval(() => {
        setColor()
    }, 1000)

    function setColor() {
        let nowData = new Date()
        h = nowData.getHours() > 9 ? nowData.getHours() : '0' + nowData.getHours()
        m = nowData.getMinutes() > 9 ? nowData.getMinutes() : '0' + nowData.getMinutes()
        s = nowData.getSeconds() > 9 ? nowData.getSeconds() : '0' + nowData.getSeconds()
        main.style.backgroundColor = `#${h}${m}${s}`
        h1.innerHTML =
            `#${h}${m}${s}`
    }

    h1.onclick = function () {
        let str = `#${h}${m}${s}`

        var clipboard = new ClipboardJS('.h1')

        clipboard.on('success', function (e) {
            alert(`复制成功 ${e.text}`)
            e.clearSelection()
        });

        clipboard.on('error', function (e) {
            console.log(e)
            console.error('Action:', e.action)
            console.error('Trigger:', e.trigger)
        })

    }
</script>

</html>